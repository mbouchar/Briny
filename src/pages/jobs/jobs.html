<ion-header>
  <ion-navbar>
    <button ion-button menuToggle icon-only>
      <ion-icon name='menu'></ion-icon>
    </button>
    <ion-title>{{ title }}</ion-title>
  </ion-navbar>
</ion-header>

<!-- @todo: paging -->
<ion-content padding>
    <button ion-button (click)="getJobs()">Refresh</button>
    <button ion-button (click)="newJob()">New job</button>
    <h1>Jobs:</h1>
    <ion-list *ngIf="jobs">
        <ion-item *ngFor="let job of jobs">
            <h2><strong>Id:</strong> {{ job.id }}</h2>
            <p item-right>{{ job.startTime }}</p>
            <p><strong>Target:</strong> {{ job.lowstate.target }}</p>
            <p><strong>Function:</strong> {{ job.lowstate.func }} {{ job.lowstate.arguments }}</p>
            <p><strong>User:</strong> {{ job.user }}</p>
            <button ion-button item-right (click)="showJobDetails(job)">Details</button>
            <button ion-button item-right (click)="runJob(job.lowstate)">Restart</button>
        </ion-item>
    </ion-list>
</ion-content>
